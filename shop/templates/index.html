<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">






    {% load static %}
        <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link href="{% static 'shop/css/style.css' %}" rel="stylesheet" type="text/css">

    <style type="text/css">

        .nav_font{
          font-family: Georgia, 'Times New Roman', Times, serif;
          font-weight: bold;
        }

        .lala{
            height: 50px;
            width: 100px;
            opacity: 0.5;
        }

        .mh{
           max-height: 380px;
           height: auto;
           width : 70%;
           max-width: 600px;
        }

        .woc{
            max-width: 800px;
        }

        .im_1{
            width: 100%;
            height: auto;

        }

        .col-md-3{
                display: inherit;

        }

        @media screen and (min-width: 800px){
        .col-md-3{
                display: inline-block;
                margin-left: -4px;
        }
        }


        .col-md-3 img{
                width: 100%;
                height: auto;
        }

        .brstyle_1{
          border-style: solid;
          border-width: 25px;
          border-color: Snow;
          border-radius: 5px;
        }

        ims_2{
          height: auto;
          width: auto;
        }

        cr1{
          height: 70px;
        }

        h3{
          color: FireBrick;
        }

        btnbtm{
            position: absolute;
            bottom: 0;
        }

    </style>
       <title>Home- Shopping Bazaar</title>

      <link rel="icon" href="{% static 'shop/imgs/sb_icon2.png' %}" type="image/icon">
  </head>
  <body style="background-color: Thistle;">

  <nav class="navbar navbar-expand-lg navbar-light bg-transparent shadow  bg-body rounded">
  <div class="container-fluid">
    <div style="padding-right: 30px;">
      <a href="/shop">
      <img src="{% static 'shop/imgs/shopping_bazaar_red_h.png' %}">
    </a>
    </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          
          <a class="nav-link active nav_font" aria-current="page" href="/shop"><img src="{% static 'shop/imgs/home_icon1.png' %}" style="margin-top: -4px;">Home</a>
        </li>
        <li class="nav-item nav_font">
          <a class="nav-link" href="#"><img src="{% static 'shop/imgs/order_icon2.png' %}" style="margin-top: -4px;">Orders</a>
        </li>
        <li class="nav-item dropdown nav_font">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="{% static 'shop/imgs/more_icon1.png' %}" style="margin-top: -4px;">More
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item nav_font" href="/">ABHP Home</a></li>
            <li><a class="dropdown-item nav_font" href="#">Another action</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item nav_font" href="/shop/contact">Contact Us</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link nav_font" href="/shop/about"><img src="{% static 'shop/imgs/about_icon2.png' %}" style="margin-top: -2px;">About Us</a>
        </li>
      </ul>
      
      <form class="d-flex" style="padding-bottom: 4px;">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" style="opacity: 0.5">
        
      </form>
      <button class="btn btn-outline-dark" type="button" data-bs-placement="bottom">
        <img src="{% static 'shop/imgs/search_icon1.png'  %}" style="margin-top: -4px;">Search
      </button>
      <button type="button" class="btn btn-secondary mx-2" data-bs-toggle="tooltip" data-bs-placement="bottom" style="background-color: rgba(255, 140, 0, 0.555);" title="Cart">
        <img src="{% static 'shop/imgs/cart_icon1.png' %}" style="margin-right: 5px;">Cart (<span id="cart">0</span>)
      </button>

<!-- login --- logout changeing -->     

{% if user.is_authenticated %}
      <button type="button" class="btn btn-outline-success">Log Out</button>
      <h3>{{request.user.first_name}}</h3>

 {% else %}     
       <!-- Button trigger modal -->

<button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop"  style="margin-right: 8px;">
  Sign Up
</button>

<!-- Button trigger modal -->
<button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Log In
</button>
{% endif %}


<!-- Modal signupppppp -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="background-color: Thistle;">
      <div class="modal-header" style="background-color: rgb(204, 123, 164);">
        <h5 class="modal-title grow" id="staticBackdropLabel">Sign Up</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">


        <form action="/shop/signup/" method="POST"> {% csrf_token %}
          <div class="mb-3">
            <label for="semail" class="form-label">Email address</label>
            <input type="email" class="form-control" id="semail" aria-describedby="emailHelp" name="semail">
            <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
          </div>
          
          <div class="mb-3">
            <label for="sf_name" class="form-label">First Name</label>
            <input type="text" class="form-control" id="sf_name" name="sf_name">
          </div>

          <div class="mb-3">
            <label for="sl_name" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="sl_name" name="sl_name"> 
          </div>

          <div class="mb-3">
            <label for="pass1" class="form-label">Choose Password</label>
            <input type="password" class="form-control" id="pass1" name="pass1">
          </div><div class="mb-3">
            <label for="pass2" class="form-label">Confirm Password</label>
            <input type="password" class="form-control" id="pass2" name="pass2">
          </div>

          
          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="exampleCheck1" required>
            <label class="form-check-label" for="exampleCheck1">I am not robot.</label>
          </div>
          <button type="submit" class="btn btn-success">Sign Up</button>

              
        </form>

      </div>
     
    </div>
  </div>
</div>


      

      <!-- Modal loginnnn -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content" style="background-color: Thistle;">
            <div class="modal-header" style="background-color: rgb(204, 123, 164);">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

              <form action="/shop/login/" method="POST"> {% csrf_token %}
              
              <div class="mb-3">
                <label for="lemail" class="form-label">Email address</label>
                <input type="email" class="form-control" id="lemail" name="lemail" aria-describedby="emailHelp">
              </div>

              <div class="mb-3">
                <label for="lpass" class="form-label">Password</label>
                <input type="password" class="form-control" id="lpass" name="lpass">
              </div><div class="mb-3">

            </div>
            
              <button type="submit" class="btn btn-primary">Log In</button>
            
            
          </form>

          </div>
        </div>
      </div>

    </div>
  </div>
  </nav>

  {% for message in messages %}

  <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
    <strong>Message: </strong> {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  {% endfor %}

<!--
  <img src="{% static 'shop/imgs/wall2_2.jpg' %}" class="im_1">
-->

  <picture>

  <source media="(min-width: 500px)" srcset="{% static 'shop/imgs/wall2_2.jpg' %}">
    
  <img src="{% static 'shop/imgs/wall_2mobile.jpg' %}" class="im_1" >
  
</picture><br><br>



    <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
  <ol class="carousel-indicators">
    <li data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active"></li>
    <li data-bs-target="#carouselExampleDark" data-bs-slide-to="1"></li>
    <li data-bs-target="#carouselExampleDark" data-bs-slide-to="2"></li>
  </ol>

       <!--<img  src="{% static 'shop/imgs/sl1p1.jpg' %}" class="d-block mh " alt="first_pic">
      <div class="carousel-caption d-none d-md-block">
        <h5>First slide label</h5>
        <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
      </div>-->

<div class="container brstyle_1" style="background-color: Snow;">
  <div class="carousel-inner">
       <div class="carousel-item active" data-bs-interval="8000" align="center">
         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <h5>New Uttrayan Offer</h5>
        <p>it's for limited time hurry up!!!.</p>

    </div>


    <div class="carousel-item" data-bs-interval="7000" align="center">

               <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p2.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p2.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p2.jpg' %}">
         </div>


        <h5>Explore Our Shoes</h5>
        <p>Nike, Puma, Adidas, Bata, Reebok, Peragon.</p>

    </div>
    <div class="carousel-item" align="center">

      <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p2.jpg' %}">
         </div>

         <div class="col-xs-3 col-sm-3 col-md-3">
           <img src="{% static 'shop/imgs/sl1p1.jpg' %}">
         </div>

         <h5>For Winter</h5>
        <p>Best Products with high quality material.</p>


    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleDark" role="button" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleDark" role="button" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</div>
      </div>


  <div class="container" style="padding: 15px;">
    <h2>Start</h2>
    <!--n product logic-->




     <div class="row">
       {% for i in product %}
       <div class="col-lg-4 d-flex align-items-stretch" style="margin-bottom:20px;">

            <div class="card" style="width: auto;" >
             <img src="/media/{{i.image}}" class="card-img-top ims_2" alt="...">
            <div class="card-body d-flex flex-column">
            <div class="mt-auto">
            <h3>₹{{i.price}}</h3>
            </div>
            <h5 class="card-title">{{i.product_name}}</h5>

            <p class="card-text">{{i.desc}}</p>

            
               <a href="productview/{{i.id}}" class="btn btn-warning cart" style="background-color:Orange; margin-bottom:8px;">Buy Now</a>  

                  <button id="pr{{i.id}}" class="btn  btn-warning cart">Add to Cart</button>
            </div>
            </div>

       </div>
       {% endfor %}

     </div>





  </div>






    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script>
      console.log('Working')
      if(localStorage.getItem('cart') == null){
      var cart = {};
      }
      else
      {
      cart = JSON.parse(localStorage.getItem('cart'));
      document.getElementById('cart').innerHTML = Object.keys(cart).length
      }

      $('.cart').click(function(){
      console.log('Clicked');
      var idstr = this.id.toString();
      console.log(idstr);
      if (cart[idstr] !=undefined){
      cart[idstr] = cart[idstr] + 1;
      }
      else
      {
      cart[idstr] = 1;
      }
      console.log(cart);
      localStorage.setItem('cart', JSON.stringify(cart));
      document.getElementById('cart').innerHTML = Object.keys(cart).length;
      });
  </script>
  </body>
</html>